{"version":3,"sources":["api/api.js","reduxForm/FormComponents/FormComponents.jsx","components/Navbar/Navbar.jsx","redux/usersPage-reducer.js","components/Users/Pagination/Pagination.jsx","assets/img/user-logo.png","components/Users/User/User.jsx","components/Users/Users.jsx","components/common/Preloader/Preloader.jsx","HOC/withAuthRedirect.js","components/Users/UsersContainer.jsx","redux/profilePage-reducer.js","components/Profile/Posts/AddPostReduxForm/AddPostReduxForm.jsx","components/Profile/Posts/Post/Like/Like.jsx","components/Profile/Posts/Post/Post.jsx","components/Profile/Posts/Posts.jsx","components/Profile/Posts/PostsContainer.jsx","components/Profile/ProfileInfo/ProfileAvatar/ProfileAvatar.jsx","reduxForm/profileDataForm.jsx","components/Profile/ProfileInfo/ProfileStatus/ProfileStatus.jsx","components/Profile/ProfileInfo/ProfileDescription/ProfileData/ProfileData.jsx","components/Profile/ProfileInfo/ProfileDescription/ProfileDescription.jsx","components/Profile/ProfileInfo/ProfileInfo.jsx","components/Profile/Profile.jsx","components/Profile/ProfileContainer.jsx","components/Header/Header.jsx","components/Header/HeaderContainer.jsx","redux/app-reducer.js","redux/dialogsPage-reducer.js","components/Dialogs/DialogsMessages/DialogsMessagesItem/DialogsMessagesItem.jsx","components/Dialogs/DialogsMessages/DialogsMessageReduxForm/DialogsMessageReduxForm.jsx","components/Dialogs/DialogsMessages/DialogsMessages.jsx","components/Dialogs/DialogsMessages/DialogsMessagesContainer.jsx","components/Dialogs/DialogsName/DialogsNameItem/DialogsNameItem.jsx","components/Dialogs/DialogsName/DialogsName.jsx","components/Dialogs/DialogsName/DialogsNameContainer.jsx","components/Dialogs/Dialogs.jsx","App.js","reportWebVitals.js","redux/redux-store.js","index.js","redux/auth-reducer.js","reduxForm/validators.js"],"names":["instance","axios","baseURL","withCredentials","headers","profileAPI","getProfile","userId","get","then","response","data","getStatus","updateStatus","status","put","updateProfilePhoto","photo","formData","FormData","append","updateProfileData","profileData","usersAPI","getPages","currentPage","pageSize","setPage","page","unfollow","delete","follow","post","authAPI","isAuth","login","captcha","email","password","rememberMe","logout","getCaptchaUrl","TextareaAddPost","input","meta","props","hasError","touched","error","className","InputLogin","Navbar","to","activeClassName","SUBSCRIBE","UNSUBSCRIBE","SET_USERS","SET_PAGE_NUMBER","SET_TOTAL_USERS_COUNT","TOGGLE_FETCHING","FOLLOWING_IN_PROGRESS","initialState","users","totalUsersCount","isFetching","followingInProgress","subscribeActionCreator","type","unsubscribeActionCreator","setUsersActionCreator","toggleFetchingActionCreator","followingInProgressActionCreator","inProgress","usersPageReducer","state","action","map","user","id","followed","pageNumber","usersCount","filter","Pagination","pagesCount","Math","ceil","pages","i","push","portionCount","useState","portionNumber","setPortionNumber","leftPortionPageNumber","rightPortionPageNumber","onClick","p","onPageChanged","User","src","photos","small","userAvatar","alt","disabled","some","unsubscribe","subscribe","name","Users","Preloader","mapStateToPropsForRedirect","auth","withAuthRedirect","Component","connect","compose","usersPage","dispatch","a","resultCode","getUsers","items","totalCount","changedPage","useEffect","toggleFollowingProgress","SET_USER_PROFILE","SET_STATUS","UPDATE_STATUS","ADD_NEW_POST","SET_PROFILE_PHOTO","SET_EDIT_MODE_PROFILE","profile","postsData","text","likeCount","postTextareaValue","userStatus","editMode","setStatusActionCreator","setProfilePhotoActionCreator","setEditModeProfile","profilePageReducer","newPost","length","large","maxLength10","maxLength","AddPostReduxForm","reduxForm","form","onSubmit","handleSubmit","Field","component","cols","rows","placeholder","validate","required","Like","count","Post","Posts","renderPosts","posts","addNewPost","newPostText","profilePage","addNewPostActionCreator","ProfileAvatar","isOwner","onChange","e","target","files","setProfilePhoto","for","ProfileDataForm","ProfileStatus","setEditMode","setStatus","activateEditMode","onBlur","updateUserStatus","currentTarget","value","autoFocus","ProfileData","activeEditMode","fullName","aboutMe","lookingForAJob","lookingForAJobDescription","contacts","facebook","instagram","github","ProfileDescription","initialValues","setProfileData","ProfileInfo","Profile","setUserStatus","getState","errorMessage","messages","stopSubmit","_error","withRouter","match","params","Header","isLogged","INITIALIZED_SUCCESS","initialized","appReducer","SEND_NEW_MESSAGE","dialogsName","avatar","dialogsMessagesData","message","dialogsSendMessageValue","dialogsPageReducer","newMessage","DialogsMessagesItem","DialogsMessageReduxForm","DialogsMessages","renderDialogMessages","sendNewMessage","dialogsPage","sendNewMessageActionCreator","DialogsNameItem","DialogsName","renderDialogsName","item","LoginContainer","React","lazy","app","initializedApp","promise","path","render","Suspense","fallback","reportWebVitals","onPerfEntry","Function","getCLS","getFID","getFCP","getLCP","getTTFB","reducers","combineReducers","authReducer","formReducer","composeEnhancers","window","__REDUX_DEVTOOLS_EXTENSION_COMPOSE__","store","createStore","applyMiddleware","thunkMiddleware","ReactDOM","document","getElementById","SET_USER_AUTH","SET_CAPTCHA_URL","captchaUrl","setUserAuthActionCreator","url","max","undefined"],"mappings":"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","file":"static/js/main.659a9f70.chunk.js","sourcesContent":["import * as axios from 'axios';\r\n\r\nconst instance = axios.create({\r\n\tbaseURL: 'https://social-network.samuraijs.com/api/1.0/',\r\n\twithCredentials: true,\r\n\theaders: { 'API-KEY': '64e333df-e9d0-4115-b50f-b08967237296' },\r\n});\r\n\r\nexport const profileAPI = {\r\n\tgetProfile(userId) {\r\n\t\treturn instance.get(`profile/${userId}`).then(response => response.data);\r\n\t},\r\n\tgetStatus(userId) {\r\n\t\treturn instance\r\n\t\t\t.get(`profile/status/${userId}`)\r\n\t\t\t.then(response => response.data);\r\n\t},\r\n\tupdateStatus(status) {\r\n\t\treturn instance\r\n\t\t\t.put(`profile/status`, { status: status })\r\n\t\t\t.then(response => response.data);\r\n\t},\r\n\tupdateProfilePhoto(photo) {\r\n\t\tconst formData = new FormData();\r\n\t\tformData.append('image', photo);\r\n\t\treturn instance\r\n\t\t\t.put(`profile/photo`, formData)\r\n\t\t\t.then(response => response.data);\r\n\t},\r\n\tupdateProfileData(profileData) {\r\n\t\treturn instance.put(`profile`, profileData).then(response => response.data);\r\n\t},\r\n};\r\n\r\nexport const usersAPI = {\r\n\tgetPages(currentPage, pageSize) {\r\n\t\treturn instance\r\n\t\t\t.get(`users?page=${currentPage}&count=${pageSize}`)\r\n\t\t\t.then(response => response.data);\r\n\t},\r\n\tsetPage(page, pageSize) {\r\n\t\treturn instance\r\n\t\t\t.get(`users?page=${page}&count=${pageSize}`)\r\n\t\t\t.then(response => response.data);\r\n\t},\r\n\tunfollow(userId) {\r\n\t\treturn instance.delete(`follow/${userId}`).then(response => response.data);\r\n\t},\r\n\tfollow(userId) {\r\n\t\treturn instance.post(`follow/${userId}`).then(response => response.data);\r\n\t},\r\n};\r\n\r\nexport const authAPI = {\r\n\tisAuth() {\r\n\t\treturn instance.get('auth/me').then(response => response.data);\r\n\t},\r\n\tlogin(captcha = null, email, password, rememberMe = false) {\r\n\t\treturn instance\r\n\t\t\t.post('auth/login', { captcha, email, password, rememberMe })\r\n\t\t\t.then(response => response.data);\r\n\t},\r\n\tlogout() {\r\n\t\treturn instance.delete('auth/login').then(response => response.data);\r\n\t},\r\n\tgetCaptchaUrl() {\r\n\t\treturn instance\r\n\t\t\t.get('security/get-captcha-url')\r\n\t\t\t.then(response => response.data);\r\n\t},\r\n};\r\n","import React from 'react';\r\n\r\nexport const TextareaAddPost = ({ input, meta, ...props }) => {\r\n\tconst hasError = meta.touched && meta.error;\r\n\r\n\treturn (\r\n\t\t<div>\r\n\t\t\t<div className={hasError ? 'validate__post validate__post_body' : ''}>\r\n\t\t\t\t<textarea {...input} {...props} />\r\n\t\t\t</div>\r\n\t\t\t{hasError && (\r\n\t\t\t\t<div className={hasError ? 'validate__post validate__post_span' : ''}>\r\n\t\t\t\t\t{meta.error}\r\n\t\t\t\t</div>\r\n\t\t\t)}\r\n\t\t</div>\r\n\t);\r\n};\r\n\r\nexport const InputLogin = ({ input, meta, ...props }) => {\r\n\tconst hasError = meta.touched && meta.error;\r\n\r\n\treturn (\r\n\t\t<div>\r\n\t\t\t<div className={hasError ? 'validate__login validate__login_body' : ''}>\r\n\t\t\t\t<input {...input} {...props} />\r\n\t\t\t</div>\r\n\t\t\t{hasError && (\r\n\t\t\t\t<div className={hasError ? 'validate__login validate__login_span' : ''}>\r\n\t\t\t\t\t{meta.error}\r\n\t\t\t\t</div>\r\n\t\t\t)}\r\n\t\t</div>\r\n\t);\r\n};\r\n","import { NavLink } from 'react-router-dom';\r\n\r\nconst Navbar = () => {\r\n\treturn (\r\n\t\t<nav className=\"navbar\">\r\n\t\t\t<ul className=\"navbar__list\">\r\n\t\t\t\t<li>\r\n\t\t\t\t\t<NavLink\r\n\t\t\t\t\t\tto=\"/profile\"\r\n\t\t\t\t\t\tclassName=\"navbar__item\"\r\n\t\t\t\t\t\tactiveClassName=\"navbar__item_active\"\r\n\t\t\t\t\t>\r\n\t\t\t\t\t\tProfile\r\n\t\t\t\t\t</NavLink>\r\n\t\t\t\t</li>\r\n\t\t\t\t<li>\r\n\t\t\t\t\t<NavLink\r\n\t\t\t\t\t\tto=\"/users\"\r\n\t\t\t\t\t\tclassName=\"navbar__item\"\r\n\t\t\t\t\t\tactiveClassName=\"navbar__item_active\"\r\n\t\t\t\t\t>\r\n\t\t\t\t\t\tUsers\r\n\t\t\t\t\t</NavLink>\r\n\t\t\t\t</li>\r\n\t\t\t\t<li>\r\n\t\t\t\t\t<NavLink\r\n\t\t\t\t\t\tto=\"/dialogs\"\r\n\t\t\t\t\t\tclassName=\"navbar__item\"\r\n\t\t\t\t\t\tactiveClassName=\"navbar__item_active\"\r\n\t\t\t\t\t>\r\n\t\t\t\t\t\tDialogs\r\n\t\t\t\t\t</NavLink>\r\n\t\t\t\t</li>\r\n\t\t\t</ul>\r\n\t\t</nav>\r\n\t);\r\n};\r\n\r\nexport default Navbar;\r\n","import { usersAPI } from '../api/api';\r\n\r\n// actions types\r\nconst SUBSCRIBE = 'users/SUBSCRIBE';\r\nconst UNSUBSCRIBE = 'users/UNSUBSCRIBE';\r\nconst SET_USERS = 'users/SET-USERS';\r\nconst SET_PAGE_NUMBER = 'users/SET-PAGE-NUMBER';\r\nconst SET_TOTAL_USERS_COUNT = 'users/SET-TOTAL-USERS-COUNT';\r\nconst TOGGLE_FETCHING = 'users/TOGGLE-FETCHING';\r\nconst FOLLOWING_IN_PROGRESS = 'users/FOLLOWING-IN-PROGRESS';\r\n\r\n// initial state\r\nconst initialState = {\r\n\tusers: [],\r\n\tpageSize: 50,\r\n\ttotalUsersCount: 0,\r\n\tcurrentPage: 1,\r\n\tisFetching: false,\r\n\tfollowingInProgress: [],\r\n};\r\n\r\n// reducers\r\nconst usersPageReducer = (state = initialState, action) => {\r\n\tswitch (action.type) {\r\n\t\tcase SUBSCRIBE:\r\n\t\t\treturn {\r\n\t\t\t\t...state,\r\n\t\t\t\tusers: state.users.map(user => {\r\n\t\t\t\t\tif (user.id === action.userId) {\r\n\t\t\t\t\t\treturn { ...user, followed: true };\r\n\t\t\t\t\t}\r\n\t\t\t\t\treturn user;\r\n\t\t\t\t}),\r\n\t\t\t};\r\n\t\tcase UNSUBSCRIBE:\r\n\t\t\treturn {\r\n\t\t\t\t...state,\r\n\t\t\t\tusers: state.users.map(user => {\r\n\t\t\t\t\tif (user.id === action.userId) {\r\n\t\t\t\t\t\treturn { ...user, followed: false };\r\n\t\t\t\t\t}\r\n\t\t\t\t\treturn user;\r\n\t\t\t\t}),\r\n\t\t\t};\r\n\t\tcase SET_USERS:\r\n\t\t\treturn { ...state, users: [...action.users] };\r\n\t\tcase SET_PAGE_NUMBER:\r\n\t\t\treturn { ...state, currentPage: action.pageNumber };\r\n\t\tcase SET_TOTAL_USERS_COUNT:\r\n\t\t\treturn { ...state, totalUsersCount: action.usersCount };\r\n\t\tcase TOGGLE_FETCHING:\r\n\t\t\treturn { ...state, isFetching: action.isFetching };\r\n\t\tcase FOLLOWING_IN_PROGRESS:\r\n\t\t\treturn {\r\n\t\t\t\t...state,\r\n\t\t\t\tfollowingInProgress: action.inProgress\r\n\t\t\t\t\t? [...state.followingInProgress, action.userId]\r\n\t\t\t\t\t: state.followingInProgress.filter(id => id != action.userId),\r\n\t\t\t};\r\n\t\tdefault:\r\n\t\t\treturn state;\r\n\t}\r\n};\r\n\r\n// actions creators\r\nexport const subscribeActionCreator = userId => ({ type: SUBSCRIBE, userId });\r\nexport const unsubscribeActionCreator = userId => ({\r\n\ttype: UNSUBSCRIBE,\r\n\tuserId,\r\n});\r\n\r\nexport const setUsersActionCreator = users => ({ type: SET_USERS, users });\r\nexport const setPageNumberActionCreator = pageNumber => ({\r\n\ttype: SET_PAGE_NUMBER,\r\n\tpageNumber,\r\n});\r\nexport const setTotalUsersCountActionCreator = usersCount => ({\r\n\ttype: SET_TOTAL_USERS_COUNT,\r\n\tusersCount,\r\n});\r\nexport const toggleFetchingActionCreator = isFetching => ({\r\n\ttype: TOGGLE_FETCHING,\r\n\tisFetching,\r\n});\r\nexport const followingInProgressActionCreator = (inProgress, userId) => ({\r\n\ttype: FOLLOWING_IN_PROGRESS,\r\n\tinProgress,\r\n\tuserId,\r\n});\r\n\r\n// redux-thunks\r\nexport const getUsers = (currentPage, pageSize) => async dispatch => {\r\n\tdispatch(toggleFetchingActionCreator(true));\r\n\tconst data = await usersAPI.getPages(currentPage, pageSize);\r\n\tdispatch(setUsersActionCreator(data.items));\r\n\tdispatch(setTotalUsersCountActionCreator(data.totalCount));\r\n\tdispatch(toggleFetchingActionCreator(false));\r\n};\r\n\r\nexport const changedPage = (page, pageSize) => async dispatch => {\r\n\tdispatch(setPageNumberActionCreator(page));\r\n\tdispatch(toggleFetchingActionCreator(true));\r\n\tconst data = await usersAPI.setPage(page, pageSize);\r\n\tdispatch(setUsersActionCreator(data.items));\r\n\tdispatch(toggleFetchingActionCreator(false));\r\n};\r\n\r\nexport const unsubscribe = userId => async dispatch => {\r\n\tdispatch(followingInProgressActionCreator(true, userId));\r\n\tconst data = await usersAPI.unfollow(userId);\r\n\tif (data.resultCode === 0) {\r\n\t\tdispatch(unsubscribeActionCreator(userId));\r\n\t}\r\n\tdispatch(followingInProgressActionCreator(false, userId));\r\n};\r\n\r\nexport const subscribe = userId => async dispatch => {\r\n\tdispatch(followingInProgressActionCreator(true, userId));\r\n\tconst data = await usersAPI.follow(userId);\r\n\tif (data.resultCode === 0) {\r\n\t\tdispatch(subscribeActionCreator(userId));\r\n\t}\r\n\tdispatch(followingInProgressActionCreator(false, userId));\r\n};\r\n\r\nexport default usersPageReducer;\r\n","import { useState } from 'react';\r\n\r\nconst Pagination = props => {\r\n\tconst pagesCount = Math.ceil(props.totalUsersCount / props.pageSize);\r\n\r\n\tconst pages = [];\r\n\r\n\tfor (let i = 1; i <= pagesCount; i++) {\r\n\t\tpages.push(i);\r\n\t}\r\n\r\n\tconst portionSize = 10;\r\n\tconst portionCount = Math.ceil(pagesCount / portionSize);\r\n\tconst [portionNumber, setPortionNumber] = useState(1);\r\n\tconst leftPortionPageNumber = (portionNumber - 1) * portionSize + 1;\r\n\tconst rightPortionPageNumber = portionNumber * portionSize;\r\n\r\n\treturn (\r\n\t\t<div>\r\n\t\t\t{portionNumber > 1 && (\r\n\t\t\t\t<button onClick={() => setPortionNumber(portionNumber - 1)}>\r\n\t\t\t\t\tPREV\r\n\t\t\t\t</button>\r\n\t\t\t)}\r\n\t\t\t{pages\r\n\t\t\t\t.filter(p => p >= leftPortionPageNumber && p <= rightPortionPageNumber)\r\n\t\t\t\t.map(page => {\r\n\t\t\t\t\treturn (\r\n\t\t\t\t\t\t<button\r\n\t\t\t\t\t\t\tclassName={\r\n\t\t\t\t\t\t\t\tprops.currentPage === page\r\n\t\t\t\t\t\t\t\t\t? 'users__page users__page_active'\r\n\t\t\t\t\t\t\t\t\t: 'users__page '\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\tonClick={() => props.onPageChanged(page)}\r\n\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t{page}\r\n\t\t\t\t\t\t</button>\r\n\t\t\t\t\t);\r\n\t\t\t\t})}\r\n\t\t\t{portionCount > portionNumber && (\r\n\t\t\t\t<button onClick={() => setPortionNumber(portionNumber + 1)}>\r\n\t\t\t\t\tNEXT\r\n\t\t\t\t</button>\r\n\t\t\t)}\r\n\t\t</div>\r\n\t);\r\n};\r\n\r\nexport default Pagination;\r\n","export default __webpack_public_path__ + \"static/media/user-logo.c3bf08ee.png\";","import { NavLink } from 'react-router-dom';\r\nimport userAvatar from '../../../assets/img/user-logo.png';\r\n\r\nconst User = props => {\r\n\treturn (\r\n\t\t<div className=\"user\">\r\n\t\t\t<div className=\"user__action\">\r\n\t\t\t\t<NavLink to={`profile/${props.user.id}`}>\r\n\t\t\t\t\t<img\r\n\t\t\t\t\t\tsrc={\r\n\t\t\t\t\t\t\tprops.user.photos.small != null\r\n\t\t\t\t\t\t\t\t? props.user.photos.small\r\n\t\t\t\t\t\t\t\t: userAvatar\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t\talt=\"avatar\"\r\n\t\t\t\t\t\tclassName=\"user__avatar\"\r\n\t\t\t\t\t/>\r\n\t\t\t\t</NavLink>\r\n\t\t\t\t{props.user.followed ? (\r\n\t\t\t\t\t<button\r\n\t\t\t\t\t\tdisabled={props.followingInProgress.some(\r\n\t\t\t\t\t\t\tid => id === props.user.id\r\n\t\t\t\t\t\t)}\r\n\t\t\t\t\t\tonClick={() => {\r\n\t\t\t\t\t\t\tprops.unsubscribe(props.user.id);\r\n\t\t\t\t\t\t}}\r\n\t\t\t\t\t\tclassName=\"user__btn\"\r\n\t\t\t\t\t>\r\n\t\t\t\t\t\tUnfollow\r\n\t\t\t\t\t</button>\r\n\t\t\t\t) : (\r\n\t\t\t\t\t<button\r\n\t\t\t\t\t\tdisabled={props.followingInProgress.some(\r\n\t\t\t\t\t\t\tid => id === props.user.id\r\n\t\t\t\t\t\t)}\r\n\t\t\t\t\t\tonClick={() => {\r\n\t\t\t\t\t\t\tprops.subscribe(props.user.id);\r\n\t\t\t\t\t\t}}\r\n\t\t\t\t\t\tclassName=\"user__btn\"\r\n\t\t\t\t\t>\r\n\t\t\t\t\t\tFollow\r\n\t\t\t\t\t</button>\r\n\t\t\t\t)}\r\n\t\t\t</div>\r\n\t\t\t<div className=\"user__info\">\r\n\t\t\t\t<div className=\"user__descr\">\r\n\t\t\t\t\t<div className=\"user__descr-name\">{props.user.name}</div>\r\n\t\t\t\t\t<div className=\"user__descr-status\">{props.user.status}</div>\r\n\t\t\t\t</div>\r\n\t\t\t</div>\r\n\t\t</div>\r\n\t);\r\n};\r\n\r\nexport default User;\r\n","import React from 'react';\r\nimport Pagination from './Pagination/Pagination';\r\nimport User from './User/User';\r\n\r\nconst Users = props => {\r\n\treturn (\r\n\t\t<div className=\"users\">\r\n\t\t\t<Pagination\r\n\t\t\t\tcurrentPage={props.currentPage}\r\n\t\t\t\tonPageChanged={props.onPageChanged}\r\n\t\t\t\ttotalUsersCount={props.totalUsersCount}\r\n\t\t\t\tpageSize={props.pageSize}\r\n\t\t\t/>\r\n\t\t\t{props.users.map(user => (\r\n\t\t\t\t<User\r\n\t\t\t\t\tuser={user}\r\n\t\t\t\t\tfollowingInProgress={props.followingInProgress}\r\n\t\t\t\t\tunsubscribe={props.unsubscribe}\r\n\t\t\t\t\tsubscribe={props.subscribe}\r\n\t\t\t\t/>\r\n\t\t\t))}\r\n\t\t</div>\r\n\t);\r\n};\r\n\r\nexport default Users;\r\n","import React from 'react';\r\n\r\nconst Preloader = props => {\r\n\treturn (\r\n\t\t<div className=\"preloader\">\r\n\t\t\t<div className=\"spinner\"></div>\r\n\t\t</div>\r\n\t);\r\n};\r\n\r\nexport default Preloader;\r\n","import React from 'react';\r\nimport { connect } from 'react-redux';\r\nimport { Redirect } from 'react-router';\r\n\r\nconst mapStateToPropsForRedirect = state => {\r\n\treturn {\r\n\t\tisAuth: state.auth.isAuth,\r\n\t};\r\n};\r\n\r\nexport const withAuthRedirect = Component => {\r\n\tconst RedirectComponent = props => {\r\n\t\tif (!props.isAuth) return <Redirect to=\"/login\" />;\r\n\t\treturn <Component {...props} />;\r\n\t};\r\n\r\n\treturn connect(mapStateToPropsForRedirect)(RedirectComponent);\r\n};\r\n","import React from 'react';\r\nimport { connect } from 'react-redux';\r\nimport {\r\n\tgetUsers,\r\n\tchangedPage,\r\n\tunsubscribe,\r\n\tsubscribe,\r\n} from '../../redux/usersPage-reducer';\r\nimport Users from './Users';\r\nimport Preloader from '../common/Preloader/Preloader';\r\nimport { withAuthRedirect } from '../../HOC/withAuthRedirect';\r\nimport { compose } from 'redux';\r\nimport { useEffect } from 'react';\r\n\r\nconst UsersContainer = props => {\r\n\tuseEffect(() => {\r\n\t\tprops.getUsers(props.currentPage, props.pageSize);\r\n\t}, []);\r\n\r\n\tconst onPageChanged = page => {\r\n\t\tprops.changedPage(page, props.pageSize);\r\n\t};\r\n\r\n\treturn (\r\n\t\t<>\r\n\t\t\t{props.isFetching ? <Preloader /> : null}\r\n\t\t\t<Users\r\n\t\t\t\ttotalUsersCount={props.totalUsersCount}\r\n\t\t\t\tpageSize={props.pageSize}\r\n\t\t\t\tcurrentPage={props.currentPage}\r\n\t\t\t\tonPageChanged={onPageChanged}\r\n\t\t\t\tusers={props.users}\r\n\t\t\t\tunsubscribe={props.unsubscribe}\r\n\t\t\t\tsubscribe={props.subscribe}\r\n\t\t\t\tfollowingInProgress={props.followingInProgress}\r\n\t\t\t\ttoggleFollowingProgress={props.toggleFollowingProgress}\r\n\t\t\t/>\r\n\t\t</>\r\n\t);\r\n};\r\n\r\nconst mapStateToProps = state => {\r\n\treturn {\r\n\t\tusers: state.usersPage.users,\r\n\t\tpageSize: state.usersPage.pageSize,\r\n\t\ttotalUsersCount: state.usersPage.totalUsersCount,\r\n\t\tcurrentPage: state.usersPage.currentPage,\r\n\t\tisFetching: state.usersPage.isFetching,\r\n\t\tfollowingInProgress: state.usersPage.followingInProgress,\r\n\t};\r\n};\r\n\r\nconst mapDispatchToProps = dispatch => {\r\n\treturn {\r\n\t\tsubscribe: userId => dispatch(subscribe(userId)),\r\n\t\tunsubscribe: userId => dispatch(unsubscribe(userId)),\r\n\t\tgetUsers: (currentPage, pageSize) =>\r\n\t\t\tdispatch(getUsers(currentPage, pageSize)),\r\n\t\tchangedPage: (page, pageSize) => dispatch(changedPage(page, pageSize)),\r\n\t};\r\n};\r\n\r\nexport default compose(\r\n\tconnect(mapStateToProps, mapDispatchToProps)\r\n\t// withAuthRedirect\r\n)(UsersContainer);\r\n","import { stopSubmit } from 'redux-form';\r\nimport { profileAPI } from '../api/api';\r\n\r\n// actions types\r\nconst SET_USER_PROFILE = 'profile/SET-USER-PROFILE';\r\nconst SET_STATUS = 'profile/SET-STATUS';\r\nconst UPDATE_STATUS = 'profile/UPDATE-STATUS';\r\nconst ADD_NEW_POST = 'profile/ADD-NEW-POST';\r\nconst SET_PROFILE_PHOTO = 'profile/SET-PROFILE-PHOTO';\r\nconst SET_EDIT_MODE_PROFILE = 'profile/SET-EDIT-MODE-PROFILE';\r\n\r\n// initial state\r\nconst initialState = {\r\n\tprofile: null,\r\n\tpostsData: [\r\n\t\t{ text: 'Hi!', id: 1, likeCount: 24 },\r\n\t\t{ text: 'Yo!', id: 2, likeCount: 32 },\r\n\t\t{ text: 'Olla!', id: 3, likeCount: 48 },\r\n\t],\r\n\tpostTextareaValue: '',\r\n\tuserStatus: '',\r\n\teditMode: false,\r\n};\r\n\r\n// reducers\r\nconst profilePageReducer = (state = initialState, action) => {\r\n\tswitch (action.type) {\r\n\t\tcase SET_USER_PROFILE:\r\n\t\t\treturn {\r\n\t\t\t\t...state,\r\n\t\t\t\tprofile: action.profile,\r\n\t\t\t};\r\n\t\tcase SET_STATUS:\r\n\t\t\treturn {\r\n\t\t\t\t...state,\r\n\t\t\t\tuserStatus: action.status,\r\n\t\t\t};\r\n\t\tcase UPDATE_STATUS:\r\n\t\t\treturn {\r\n\t\t\t\t...state,\r\n\t\t\t\tuserStatus: action.status,\r\n\t\t\t};\r\n\t\tcase ADD_NEW_POST: {\r\n\t\t\tconst newPost = {\r\n\t\t\t\ttext: action.text,\r\n\t\t\t\tid: state.postsData.length + 1,\r\n\t\t\t\tlikeCount: 0,\r\n\t\t\t};\r\n\t\t\treturn {\r\n\t\t\t\t...state,\r\n\t\t\t\tpostsData: [...state.postsData, newPost],\r\n\t\t\t};\r\n\t\t}\r\n\t\tcase SET_PROFILE_PHOTO:\r\n\t\t\treturn {\r\n\t\t\t\t...state,\r\n\t\t\t\tprofile: {\r\n\t\t\t\t\t...state.profile,\r\n\t\t\t\t\tphotos: {\r\n\t\t\t\t\t\t...state.profile.photos,\r\n\t\t\t\t\t\tsmall: action.photo,\r\n\t\t\t\t\t\tlarge: action.photo,\r\n\t\t\t\t\t},\r\n\t\t\t\t},\r\n\t\t\t};\r\n\t\tcase SET_EDIT_MODE_PROFILE:\r\n\t\t\treturn {\r\n\t\t\t\t...state,\r\n\t\t\t\teditMode: action.editMode,\r\n\t\t\t};\r\n\t\tdefault:\r\n\t\t\treturn state;\r\n\t}\r\n};\r\n\r\n// actions creators\r\nexport const setUserProfileActionCreator = profile => ({\r\n\ttype: SET_USER_PROFILE,\r\n\tprofile,\r\n});\r\n\r\nexport const setStatusActionCreator = status => ({\r\n\ttype: SET_STATUS,\r\n\tstatus,\r\n});\r\n\r\nexport const addNewPostActionCreator = text => ({\r\n\ttype: ADD_NEW_POST,\r\n\ttext,\r\n});\r\n\r\nexport const setProfilePhotoActionCreator = photo => ({\r\n\ttype: SET_PROFILE_PHOTO,\r\n\tphoto,\r\n});\r\n\r\nexport const setEditModeProfile = editMode => ({\r\n\ttype: SET_EDIT_MODE_PROFILE,\r\n\teditMode,\r\n});\r\n\r\n// redux-thunks\r\nexport const getProfile = userId => async dispatch => {\r\n\tconst data = await profileAPI.getProfile(userId);\r\n\tdispatch(setUserProfileActionCreator(data));\r\n};\r\n\r\nexport const setUserStatus = userId => async dispatch => {\r\n\tconst data = await profileAPI.getStatus(userId);\r\n\tdispatch(setStatusActionCreator(data));\r\n};\r\n\r\nexport const updateUserStatus = status => async dispatch => {\r\n\tconst data = await profileAPI.updateStatus(status);\r\n\tif (data.resultCode === 0) {\r\n\t\tdispatch(setStatusActionCreator(status));\r\n\t}\r\n};\r\n\r\nexport const setProfilePhoto = photo => async dispatch => {\r\n\tconst data = await profileAPI.updateProfilePhoto(photo);\r\n\tif (data.resultCode === 0) {\r\n\t\tdispatch(setProfilePhotoActionCreator(data.photos));\r\n\t}\r\n};\r\n\r\nexport const setProfileData = profileData => async (dispatch, getState) => {\r\n\tconst userId = getState().auth.id;\r\n\tconst data = await profileAPI.updateProfileData(profileData);\r\n\tif (data.resultCode === 0) {\r\n\t\tdispatch(setEditModeProfile(false));\r\n\t\tdispatch(getProfile(userId));\r\n\t} else {\r\n\t\tconst errorMessage = data.messages[0];\r\n\t\tdispatch(stopSubmit('profileData', { _error: errorMessage }));\r\n\t}\r\n};\r\n\r\nexport default profilePageReducer;\r\n","import { Field, reduxForm } from 'redux-form';\r\nimport { TextareaAddPost } from '../../../../reduxForm/FormComponents/FormComponents';\r\nimport { maxLength, required } from '../../../../reduxForm/validators';\r\n\r\nconst maxLength10 = maxLength(10);\r\n\r\nconst AddPostForm = props => {\r\n\treturn (\r\n\t\t<form className=\"posts__add\" onSubmit={props.handleSubmit}>\r\n\t\t\t<Field\r\n\t\t\t\tclassName=\"posts__text\"\r\n\t\t\t\tcomponent={TextareaAddPost}\r\n\t\t\t\tname=\"newPostText\"\r\n\t\t\t\tcols=\"60\"\r\n\t\t\t\trows=\"5\"\r\n\t\t\t\tplaceholder=\"Enter the text\"\r\n\t\t\t\tvalidate={[maxLength10, required]}\r\n\t\t\t/>\r\n\t\t\t<button className=\"posts__publish\">Add Post</button>\r\n\t\t</form>\r\n\t);\r\n};\r\n\r\nexport const AddPostReduxForm = reduxForm({ form: 'addPost' })(AddPostForm);\r\n","const Like = props => {\r\n\treturn (\r\n\t\t<div className=\"like\">\r\n\t\t\t<img\r\n\t\t\t\tsrc=\"https://www.pinclipart.com/picdir/big/48-486837_thumbs-up-thumbs-up-icon-font-awesome-clipart.png\"\r\n\t\t\t\talt=\"like\"\r\n\t\t\t\tclassName=\"like__icon\"\r\n\t\t\t/>\r\n\t\t\t<div className=\"like__count\">{props.count}</div>\r\n\t\t</div>\r\n\t);\r\n};\r\n\r\nexport default Like;\r\n","import Like from './Like/Like';\r\n\r\nconst Post = props => {\r\n\treturn (\r\n\t\t<div className=\"post\">\r\n\t\t\t<img\r\n\t\t\t\tsrc=\"https://pixelbox.ru/wp-content/uploads/2020/12/avatar-youtube-10.jpg\"\r\n\t\t\t\talt=\"avatar\"\r\n\t\t\t\tclassName=\"post__avatar\"\r\n\t\t\t/>\r\n\t\t\t<div className=\"post__text\">{props.text}</div>\r\n\t\t\t<Like count={props.likeCount} />\r\n\t\t</div>\r\n\t);\r\n};\r\n\r\nexport default Post;\r\n","import React from 'react';\r\nimport { AddPostReduxForm } from './AddPostReduxForm/AddPostReduxForm';\r\nimport Post from './Post/Post';\r\n\r\nconst Posts = props => {\r\n\tconst renderPosts = props.posts.map(post => (\r\n\t\t<Post\r\n\t\t\tkey={`${post}_${post.id}`}\r\n\t\t\ttext={post.text}\r\n\t\t\tid={post.id}\r\n\t\t\tlikeCount={post.likeCount}\r\n\t\t/>\r\n\t));\r\n\r\n\tconst onSubmit = formData => {\r\n\t\tprops.addNewPost(formData.newPostText);\r\n\t};\r\n\r\n\treturn (\r\n\t\t<div className=\"posts\">\r\n\t\t\t<h3 className=\"posts__header\">Posts</h3>\r\n\t\t\t<AddPostReduxForm onSubmit={onSubmit} />\r\n\t\t\t{renderPosts}\r\n\t\t</div>\r\n\t);\r\n};\r\n\r\nexport default Posts;\r\n","import React from 'react';\r\nimport { connect } from 'react-redux';\r\nimport { addNewPostActionCreator } from '../../../redux/profilePage-reducer';\r\nimport Posts from './Posts';\r\n\r\nconst PostsContainer = props => {\r\n\treturn (\r\n\t\t<Posts\r\n\t\t\tposts={props.posts}\r\n\t\t\tpostTextareaValue={props.postTextareaValue}\r\n\t\t\taddNewPost={props.addNewPost}\r\n\t\t/>\r\n\t);\r\n};\r\n\r\nconst mapStateToProps = state => {\r\n\treturn {\r\n\t\tposts: state.profilePage.postsData,\r\n\t\tpostTextareaValue: state.profilePage.postTextareaValue,\r\n\t};\r\n};\r\n\r\nconst mapDispatchToProps = dispatch => {\r\n\treturn {\r\n\t\taddNewPost: text => {\r\n\t\t\tdispatch(addNewPostActionCreator(text));\r\n\t\t},\r\n\t};\r\n};\r\n\r\nexport default connect(mapStateToProps, mapDispatchToProps)(PostsContainer);\r\n","import userAvatar from '../../../../assets/img/user-logo.png';\r\n\r\nconst ProfileAvatar = props => {\r\n\tconst selectedProfilePhoto = e => {\r\n\t\tif (e.target.files.length) {\r\n\t\t\tprops.setProfilePhoto(e.target.files[0]);\r\n\t\t}\r\n\t};\r\n\r\n\treturn (\r\n\t\t<div className=\"avatar\">\r\n\t\t\t<img\r\n\t\t\t\tsrc={\r\n\t\t\t\t\tprops.profile.photos.large != null\r\n\t\t\t\t\t\t? props.profile.photos.large\r\n\t\t\t\t\t\t: userAvatar\r\n\t\t\t\t}\r\n\t\t\t\talt=\"avatar\"\r\n\t\t\t\tclassName=\"avatar__img\"\r\n\t\t\t/>\r\n\t\t\t{props.isOwner && (\r\n\t\t\t\t<div>\r\n\t\t\t\t\t<input\r\n\t\t\t\t\t\tclassName=\"visually-hidden\"\r\n\t\t\t\t\t\ttype=\"file\"\r\n\t\t\t\t\t\tid=\"file\"\r\n\t\t\t\t\t\tonChange={selectedProfilePhoto}\r\n\t\t\t\t\t/>\r\n\t\t\t\t\t<button className=\"avatar__btn\">\r\n\t\t\t\t\t\t<label for=\"file\">Choose avatar</label>\r\n\t\t\t\t\t</button>\r\n\t\t\t\t</div>\r\n\t\t\t)}\r\n\t\t</div>\r\n\t);\r\n};\r\n\r\nexport default ProfileAvatar;\r\n","import { Field, reduxForm } from 'redux-form';\r\nimport { InputLogin } from './FormComponents/FormComponents';\r\nimport { required } from './validators';\r\n\r\nconst ProfileStandartForm = props => {\r\n\treturn (\r\n\t\t<form onSubmit={props.handleSubmit}>\r\n\t\t\t<button>Save</button>\r\n\t\t\t{props.error && (\r\n\t\t\t\t<div className=\"validate__login_invalid-data\">{props.error}</div>\r\n\t\t\t)}\r\n\t\t\t<Field\r\n\t\t\t\tcomponent={InputLogin}\r\n\t\t\t\tclassName=\"login__form-item\"\r\n\t\t\t\tplaceholder=\"Full name\"\r\n\t\t\t\tname=\"fullName\"\r\n\t\t\t\tvalidate={[required]}\r\n\t\t\t/>\r\n\t\t\t<Field\r\n\t\t\t\tcomponent={InputLogin}\r\n\t\t\t\tclassName=\"login__form-item\"\r\n\t\t\t\tplaceholder=\"About me\"\r\n\t\t\t\tname=\"aboutMe\"\r\n\t\t\t\tvalidate={[required]}\r\n\t\t\t/>\r\n\t\t\t<div className=\"login__form-item\">\r\n\t\t\t\tLooking for a job:\r\n\t\t\t\t<Field component=\"Input\" type=\"checkbox\" name=\"lookingForAJob\" />\r\n\t\t\t</div>\r\n\t\t\t<Field\r\n\t\t\t\tcomponent={InputLogin}\r\n\t\t\t\tclassName=\"login__form-item\"\r\n\t\t\t\tplaceholder=\"Desciption\"\r\n\t\t\t\tname=\"lookingForAJobDescription\"\r\n\t\t\t\tvalidate={[required]}\r\n\t\t\t/>\r\n\t\t\t<div>\r\n\t\t\t\t<b>Contacts:</b>\r\n\t\t\t</div>\r\n\t\t\t<Field\r\n\t\t\t\tcomponent={InputLogin}\r\n\t\t\t\tclassName=\"login__form-item\"\r\n\t\t\t\tplaceholder=\"Facebook\"\r\n\t\t\t\tname=\"contacts.facebook\"\r\n\t\t\t/>\r\n\t\t\t<Field\r\n\t\t\t\tcomponent={InputLogin}\r\n\t\t\t\tclassName=\"login__form-item\"\r\n\t\t\t\tplaceholder=\"Instagram\"\r\n\t\t\t\tname=\"contacts.instagram\"\r\n\t\t\t/>\r\n\t\t\t<Field\r\n\t\t\t\tcomponent={InputLogin}\r\n\t\t\t\tclassName=\"login__form-item\"\r\n\t\t\t\tplaceholder=\"Github\"\r\n\t\t\t\tname=\"contacts.github\"\r\n\t\t\t/>\r\n\t\t</form>\r\n\t);\r\n};\r\n\r\nexport const ProfileDataForm = reduxForm({ form: 'profileData' })(\r\n\tProfileStandartForm\r\n);\r\n","import React from 'react';\r\nimport { useEffect } from 'react';\r\nimport { useState } from 'react';\r\n\r\nconst ProfileStatus = props => {\r\n\tconst [editMode, setEditMode] = useState(false);\r\n\tconst [status, setStatus] = useState(props.userStatus);\r\n\r\n\tconst activateEditMode = () => {\r\n\t\tsetEditMode(true);\r\n\t};\r\n\r\n\tconst deactivateEditMode = () => {\r\n\t\tsetEditMode(false);\r\n\t\tprops.updateUserStatus(status);\r\n\t};\r\n\r\n\tconst onChangeInput = e => {\r\n\t\tsetStatus(e.currentTarget.value);\r\n\t};\r\n\r\n\tuseEffect(() => {\r\n\t\tsetStatus(props.userStatus);\r\n\t}, [props.userStatus]);\r\n\r\n\treturn editMode ? (\r\n\t\t<div onClick={activateEditMode} className=\"profile-info__descr-item\">\r\n\t\t\tStatus:{' '}\r\n\t\t\t<input\r\n\t\t\t\tonBlur={deactivateEditMode}\r\n\t\t\t\tonChange={onChangeInput}\r\n\t\t\t\tautoFocus={true}\r\n\t\t\t\tvalue={status}\r\n\t\t\t/>\r\n\t\t</div>\r\n\t) : (\r\n\t\t<div onClick={activateEditMode} className=\"profile-info__descr-item\">\r\n\t\t\t{props.userStatus\r\n\t\t\t\t? `Status: ${props.userStatus}`\r\n\t\t\t\t: 'Сlick here to set the status'}\r\n\t\t</div>\r\n\t);\r\n};\r\n\r\nexport default ProfileStatus;\r\n","const ProfileData = props => {\r\n\treturn (\r\n\t\t<div>\r\n\t\t\t{props.isOwner && <button onClick={props.activeEditMode}>Edit</button>}\r\n\t\t\t<div className=\"profile-info__descr-item\">\r\n\t\t\t\tFullname: {props.profile.fullName}\r\n\t\t\t</div>\r\n\t\t\t{props.profile.aboutMe ? (\r\n\t\t\t\t<div className=\"profile-info__descr-item\">\r\n\t\t\t\t\tAbout me: {props.profile.aboutMe}\r\n\t\t\t\t</div>\r\n\t\t\t) : (\r\n\t\t\t\t''\r\n\t\t\t)}\r\n\t\t\t<div className=\"profile-info__descr-item\">\r\n\t\t\t\tLooking for a job: {props.profile.lookingForAJob ? 'Yes' : 'No'}\r\n\t\t\t</div>\r\n\t\t\t{props.profile.lookingForAJob ? (\r\n\t\t\t\t<div className=\"profile-info__descr-item\">\r\n\t\t\t\t\tDescription: {props.profile.lookingForAJobDescription}\r\n\t\t\t\t</div>\r\n\t\t\t) : (\r\n\t\t\t\t''\r\n\t\t\t)}\r\n\t\t\t<div className=\"profile-info__descr-item\">\r\n\t\t\t\t<b>Contacts:</b>\r\n\t\t\t</div>\r\n\t\t\t{props.profile.contacts.facebook && (\r\n\t\t\t\t<div className=\"profile-info__descr-item__facebook\">\r\n\t\t\t\t\tFacebook: {props.profile.contacts.facebook}\r\n\t\t\t\t</div>\r\n\t\t\t)}\r\n\t\t\t{props.profile.contacts.instagram && (\r\n\t\t\t\t<div className=\"profile-info__descr-item__instagram\">\r\n\t\t\t\t\tInstagram: {props.profile.contacts.instagram}\r\n\t\t\t\t</div>\r\n\t\t\t)}\r\n\t\t\t{props.profile.contacts.github && (\r\n\t\t\t\t<div className=\"profile-info__descr-item__github\">\r\n\t\t\t\t\tGit: {props.profile.contacts.github}\r\n\t\t\t\t</div>\r\n\t\t\t)}\r\n\t\t</div>\r\n\t);\r\n};\r\n\r\nexport default ProfileData;\r\n","import { ProfileDataForm } from '../../../../reduxForm/profileDataForm';\r\nimport ProfileStatus from '../ProfileStatus/ProfileStatus';\r\nimport ProfileData from './ProfileData/ProfileData';\r\n\r\nconst ProfileDescription = props => {\r\n\tconst activeEditMode = () => {\r\n\t\tprops.setEditModeProfile(true);\r\n\t};\r\n\r\n\tconst onSubmit = formData => {\r\n\t\tprops.setProfileData(formData);\r\n\t};\r\n\r\n\treturn (\r\n\t\t<div className=\"profile-info__descr\">\r\n\t\t\t{props.editMode ? (\r\n\t\t\t\t<ProfileDataForm initialValues={props.profile} onSubmit={onSubmit} />\r\n\t\t\t) : (\r\n\t\t\t\t<ProfileData\r\n\t\t\t\t\tisOwner={props.isOwner}\r\n\t\t\t\t\tactiveEditMode={activeEditMode}\r\n\t\t\t\t\tprofile={props.profile}\r\n\t\t\t\t/>\r\n\t\t\t)}\r\n\t\t\t<ProfileStatus\r\n\t\t\t\tisOwner={props.isOwner}\r\n\t\t\t\tuserStatus={props.userStatus}\r\n\t\t\t\tupdateUserStatus={props.updateUserStatus}\r\n\t\t\t/>\r\n\t\t</div>\r\n\t);\r\n};\r\n\r\nexport default ProfileDescription;\r\n","import Preloader from '../../common/Preloader/Preloader';\r\nimport ProfileAvatar from './ProfileAvatar/ProfileAvatar';\r\nimport ProfileDescription from './ProfileDescription/ProfileDescription';\r\n\r\nconst ProfileInfo = props => {\r\n\tif (!props.profile) {\r\n\t\treturn <Preloader />;\r\n\t}\r\n\r\n\treturn (\r\n\t\t<div className=\"profile-info\">\r\n\t\t\t<ProfileAvatar\r\n\t\t\t\tprofile={props.profile}\r\n\t\t\t\tisOwner={props.isOwner}\r\n\t\t\t\tsetProfilePhoto={props.setProfilePhoto}\r\n\t\t\t/>\r\n\t\t\t<ProfileDescription\r\n\t\t\t\tisOwner={props.isOwner}\r\n\t\t\t\tuserId={props.userId}\r\n\t\t\t\tprofile={props.profile}\r\n\t\t\t\tuserStatus={props.userStatus}\r\n\t\t\t\tupdateUserStatus={props.updateUserStatus}\r\n\t\t\t\tsetProfileData={props.setProfileData}\r\n\t\t\t\teditMode={props.editMode}\r\n\t\t\t\tsetEditModeProfile={props.setEditModeProfile}\r\n\t\t\t/>\r\n\t\t</div>\r\n\t);\r\n};\r\n\r\nexport default ProfileInfo;\r\n","import PostsContainer from './Posts/PostsContainer';\r\nimport ProfileInfo from './ProfileInfo/ProfileInfo';\r\n\r\nconst Profile = props => {\r\n\treturn (\r\n\t\t<div className=\"profile\">\r\n\t\t\t<ProfileInfo\r\n\t\t\t\tisOwner={props.isOwner}\r\n\t\t\t\tprofile={props.profile}\r\n\t\t\t\tuserStatus={props.userStatus}\r\n\t\t\t\tupdateUserStatus={props.updateUserStatus}\r\n\t\t\t\tsetProfilePhoto={props.setProfilePhoto}\r\n\t\t\t\tuserId={props.userId}\r\n\t\t\t\tsetProfileData={props.setProfileData}\r\n\t\t\t\teditMode={props.editMode}\r\n\t\t\t\tsetEditModeProfile={props.setEditModeProfile}\r\n\t\t\t/>\r\n\t\t\t<PostsContainer />\r\n\t\t</div>\r\n\t);\r\n};\r\n\r\nexport default Profile;\r\n","import React from 'react';\r\nimport { connect } from 'react-redux';\r\nimport {\r\n\tgetProfile,\r\n\tsetEditModeProfile,\r\n\tsetProfileData,\r\n\tsetProfilePhoto,\r\n\tsetUserStatus,\r\n\tupdateUserStatus,\r\n} from '../../redux/profilePage-reducer';\r\nimport Profile from './Profile';\r\nimport { withRouter } from 'react-router-dom';\r\nimport { withAuthRedirect } from '../../HOC/withAuthRedirect';\r\nimport { compose } from 'redux';\r\nimport { useEffect } from 'react';\r\n\r\nconst ProfileContainer = props => {\r\n\tuseEffect(() => {\r\n\t\tlet userId = props.match.params.userId;\r\n\t\tif (!userId) {\r\n\t\t\tuserId = props.userId;\r\n\t\t}\r\n\t\tprops.getProfile(userId);\r\n\t\tprops.setUserStatus(userId);\r\n\t});\r\n\r\n\treturn (\r\n\t\t<Profile\r\n\t\t\tisOwner={!props.match.params.userId}\r\n\t\t\tprofile={props.profile}\r\n\t\t\tuserStatus={props.userStatus}\r\n\t\t\tupdateUserStatus={props.updateUserStatus}\r\n\t\t\tsetProfilePhoto={props.setProfilePhoto}\r\n\t\t\tuserId={props.userId}\r\n\t\t\tsetProfileData={props.setProfileData}\r\n\t\t\teditMode={props.editMode}\r\n\t\t\tsetEditModeProfile={props.setEditModeProfile}\r\n\t\t/>\r\n\t);\r\n};\r\n\r\nconst mapStateToProps = state => {\r\n\treturn {\r\n\t\tprofile: state.profilePage.profile,\r\n\t\tuserStatus: state.profilePage.userStatus,\r\n\t\tuserId: state.auth.id,\r\n\t\teditMode: state.profilePage.editMode,\r\n\t};\r\n};\r\n\r\nconst mapDispatchToProps = dispatch => {\r\n\treturn {\r\n\t\tgetProfile: userId => dispatch(getProfile(userId)),\r\n\t\tsetUserStatus: userId => dispatch(setUserStatus(userId)),\r\n\t\tupdateUserStatus: status => dispatch(updateUserStatus(status)),\r\n\t\tsetProfilePhoto: photo => dispatch(setProfilePhoto(photo)),\r\n\t\tsetProfileData: profileData => {\r\n\t\t\tdispatch(setProfileData(profileData));\r\n\t\t},\r\n\t\tsetEditModeProfile: editMode => {\r\n\t\t\tdispatch(setEditModeProfile(editMode));\r\n\t\t},\r\n\t};\r\n};\r\n\r\nexport default compose(\r\n\tconnect(mapStateToProps, mapDispatchToProps),\r\n\twithAuthRedirect,\r\n\twithRouter\r\n)(ProfileContainer);\r\n","import { NavLink } from 'react-router-dom';\r\n\r\nconst Header = props => {\r\n\treturn (\r\n\t\t<div className=\"header\">\r\n\t\t\t<div className=\"header__logo\">Social Network</div>\r\n\t\t\t<div className=\"header__auth\">\r\n\t\t\t\t{props.isAuth ? (\r\n\t\t\t\t\t<div className=\"header__auth-login header__auth-login_loginned\">\r\n\t\t\t\t\t\t<div>{props.login}</div>\r\n\t\t\t\t\t\t<button onClick={props.logout}>Logout</button>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t) : (\r\n\t\t\t\t\t<NavLink className=\"header__auth-login\" to=\"/login\">\r\n\t\t\t\t\t\tLogin\r\n\t\t\t\t\t</NavLink>\r\n\t\t\t\t)}\r\n\t\t\t</div>\r\n\t\t</div>\r\n\t);\r\n};\r\n\r\nexport default Header;\r\n","import React from 'react';\r\nimport Header from './Header';\r\nimport { connect } from 'react-redux';\r\nimport { isLogged, logout } from '../../redux/auth-reducer';\r\n\r\nconst HeaderContainer = props => {\r\n\treturn (\r\n\t\t<Header isAuth={props.isAuth} login={props.login} logout={props.logout} />\r\n\t);\r\n};\r\n\r\nconst mapStateToProps = state => {\r\n\treturn {\r\n\t\tisAuth: state.auth.isAuth,\r\n\t\tlogin: state.auth.login,\r\n\t};\r\n};\r\n\r\nconst mapDispatchToProps = dispatch => {\r\n\treturn {\r\n\t\tisLogged: () => dispatch(isLogged()),\r\n\t\tlogout: () => dispatch(logout()),\r\n\t};\r\n};\r\n\r\nexport default connect(mapStateToProps, mapDispatchToProps)(HeaderContainer);\r\n","import { isLogged } from './auth-reducer';\r\n\r\n// actions types\r\nconst INITIALIZED_SUCCESS = 'app/INITIALIZED-SUCCESS';\r\n\r\n// initial state\r\nconst initialState = {\r\n\tinitialized: false,\r\n};\r\n\r\n// reducers\r\nconst appReducer = (state = initialState, action) => {\r\n\tswitch (action.type) {\r\n\t\tcase INITIALIZED_SUCCESS:\r\n\t\t\treturn {\r\n\t\t\t\t...state,\r\n\t\t\t\tinitialized: true,\r\n\t\t\t};\r\n\t\tdefault:\r\n\t\t\treturn state;\r\n\t}\r\n};\r\n\r\n// actions creators\r\nconst initializedSuccessActionCreator = () => ({\r\n\ttype: INITIALIZED_SUCCESS,\r\n});\r\n\r\n// redux-thunks\r\nexport const initializedApp = () => async dispatch => {\r\n\tconst promise = dispatch(isLogged());\r\n\tawait promise;\r\n\tdispatch(initializedSuccessActionCreator());\r\n};\r\n\r\nexport default appReducer;\r\n","// actions types\r\nconst SEND_NEW_MESSAGE = 'dialogs/SEND-NEW-MESSAGE';\r\n\r\n// initial state\r\nconst initialState = {\r\n\tdialogsName: [\r\n\t\t{\r\n\t\t\tname: 'Pavel',\r\n\t\t\tid: 1,\r\n\t\t\tavatar: 'https://cs3.livemaster.ru/zhurnalfoto/3/8/f/140723153856.jpg',\r\n\t\t},\r\n\t\t{\r\n\t\t\tname: 'Alexey',\r\n\t\t\tid: 2,\r\n\t\t\tavatar:\r\n\t\t\t\t'https://shutniki.club/wp-content/uploads/2020/01/Multyashnye_kartinki_s_devushkami__dlya_profilya_3_27181708.jpg',\r\n\t\t},\r\n\t\t{\r\n\t\t\tname: 'Artem',\r\n\t\t\tid: 3,\r\n\t\t\tavatar:\r\n\t\t\t\t'https://www.ejin.ru/wp-content/uploads/2018/10/kartinki_volka_na_avu_04-1.jpg',\r\n\t\t},\r\n\t\t{\r\n\t\t\tname: 'Denis',\r\n\t\t\tid: 4,\r\n\t\t\tavatar: 'https://vraki.net/sites/default/files/inline/images/1_42.jpg',\r\n\t\t},\r\n\t],\r\n\tdialogsMessagesData: [\r\n\t\t{ message: 'Hey!', id: 1 },\r\n\t\t{ message: 'Hello!', id: 2 },\r\n\t\t{ message: 'Yo!', id: 3 },\r\n\t\t{ message: 'Olla!', id: 4 },\r\n\t],\r\n\tdialogsSendMessageValue: '',\r\n};\r\n\r\n// reducers\r\nconst dialogsPageReducer = (state = initialState, action) => {\r\n\tswitch (action.type) {\r\n\t\tcase SEND_NEW_MESSAGE: {\r\n\t\t\tconst newMessage = {\r\n\t\t\t\tmessage: action.text,\r\n\t\t\t\tid: state.dialogsMessagesData.length + 1,\r\n\t\t\t};\r\n\t\t\treturn {\r\n\t\t\t\t...state,\r\n\t\t\t\tdialogsMessagesData: [...state.dialogsMessagesData, newMessage],\r\n\t\t\t};\r\n\t\t}\r\n\t\tdefault:\r\n\t\t\treturn state;\r\n\t}\r\n};\r\n\r\n// actions creators\r\nexport const sendNewMessageActionCreator = text => ({\r\n\ttype: SEND_NEW_MESSAGE,\r\n\ttext,\r\n});\r\n\r\nexport default dialogsPageReducer;\r\n","const DialogsMessagesItem = props => {\r\n\treturn <div className=\"dialogs__messages-item\">{props.message}</div>;\r\n};\r\n\r\nexport default DialogsMessagesItem;\r\n","import { Field, reduxForm } from 'redux-form';\r\n\r\nconst DialogsMessageForm = props => {\r\n\treturn (\r\n\t\t<form onSubmit={props.handleSubmit} className=\"dialogs__send\">\r\n\t\t\t<Field\r\n\t\t\t\tname=\"message\"\r\n\t\t\t\tcomponent=\"textarea\"\r\n\t\t\t\tcols=\"60\"\r\n\t\t\t\trows=\"5\"\r\n\t\t\t\tclassName=\"dialogs__send-text\"\r\n\t\t\t\tplaceholder=\"Enter the text\"\r\n\t\t\t\tmaxLength=\"140\"\r\n\t\t\t\ttype=\"text\"\r\n\t\t\t/>\r\n\t\t\t<button className=\"dialogs__send-btn\">Send</button>\r\n\t\t</form>\r\n\t);\r\n};\r\n\r\nexport const DialogsMessageReduxForm = reduxForm({ form: 'sendMessage' })(\r\n\tDialogsMessageForm\r\n);\r\n","import DialogsMessagesItem from './DialogsMessagesItem/DialogsMessagesItem';\r\nimport React from 'react';\r\nimport { DialogsMessageReduxForm } from './DialogsMessageReduxForm/DialogsMessageReduxForm';\r\n\r\nconst DialogsMessages = props => {\r\n\tconst renderDialogMessages = props.dialogsMessagesData.map(message => (\r\n\t\t<DialogsMessagesItem message={message.message} id={message.id} />\r\n\t));\r\n\r\n\tconst onSubmit = formData => {\r\n\t\tprops.sendNewMessage(formData.message);\r\n\t};\r\n\r\n\treturn (\r\n\t\t<div className=\"dialogs__messages\">\r\n\t\t\t{renderDialogMessages}\r\n\t\t\t<DialogsMessageReduxForm onSubmit={onSubmit} />\r\n\t\t</div>\r\n\t);\r\n};\r\n\r\nexport default DialogsMessages;\r\n","import React from 'react';\r\nimport { connect } from 'react-redux';\r\nimport { sendNewMessageActionCreator } from '../../../redux/dialogsPage-reducer';\r\nimport DialogsMessages from './DialogsMessages';\r\n\r\nconst DialogsMessagesContainer = props => {\r\n\treturn (\r\n\t\t<DialogsMessages\r\n\t\t\tdialogsMessagesData={props.dialogsMessagesData}\r\n\t\t\tisAuth={props.isAuth}\r\n\t\t\tsendNewMessage={props.sendNewMessage}\r\n\t\t/>\r\n\t);\r\n};\r\n\r\nconst mapStateToProps = state => {\r\n\treturn {\r\n\t\tdialogsMessagesData: state.dialogsPage.dialogsMessagesData,\r\n\t\tisAuth: state.auth.isAuth,\r\n\t};\r\n};\r\n\r\nconst mapDispatchToProps = dispatch => {\r\n\treturn {\r\n\t\tsendNewMessage: text => {\r\n\t\t\tdispatch(sendNewMessageActionCreator(text));\r\n\t\t},\r\n\t};\r\n};\r\n\r\nexport default connect(\r\n\tmapStateToProps,\r\n\tmapDispatchToProps\r\n)(DialogsMessagesContainer);\r\n","import { NavLink } from 'react-router-dom';\r\n\r\nconst DialogsNameItem = props => {\r\n\treturn (\r\n\t\t<div className=\"dialogs__name-item\">\r\n\t\t\t<img\r\n\t\t\t\tsrc={props.avatar}\r\n\t\t\t\talt=\"profile-avatar\"\r\n\t\t\t\tclassName=\"dialogs__name-avatar\"\r\n\t\t\t/>\r\n\t\t\t<NavLink\r\n\t\t\t\tto={'/dialogs/' + props.id}\r\n\t\t\t\tclassName=\"dialogs__name-name\"\r\n\t\t\t\tactiveClassName=\"dialogs__name-name_active\"\r\n\t\t\t>\r\n\t\t\t\t{props.name}\r\n\t\t\t</NavLink>\r\n\t\t</div>\r\n\t);\r\n};\r\n\r\nexport default DialogsNameItem;\r\n","import DialogsNameItem from './DialogsNameItem/DialogsNameItem';\r\n\r\nconst DialogsName = props => {\r\n\tconst renderDialogsName = props.dialogsName.map(item => (\r\n\t\t<DialogsNameItem avatar={item.avatar} name={item.name} id={item.id} />\r\n\t));\r\n\r\n\treturn <div className=\"dialogs__name\">{renderDialogsName}</div>;\r\n};\r\n\r\nexport default DialogsName;\r\n","import { connect } from 'react-redux';\r\nimport DialogsName from './DialogsName';\r\n\r\nconst DialogsNameContainer = props => {\r\n\treturn <DialogsName dialogsName={props.dialogsName} />;\r\n};\r\n\r\nconst mapStateToProps = state => {\r\n\treturn {\r\n\t\tdialogsName: state.dialogsPage.dialogsName,\r\n\t};\r\n};\r\n\r\nexport default connect(mapStateToProps, null)(DialogsNameContainer);\r\n","import DialogsMessagesContainer from './DialogsMessages/DialogsMessagesContainer';\r\nimport DialogsNameContainer from './DialogsName/DialogsNameContainer';\r\nimport React from 'react';\r\nimport { withAuthRedirect } from '../../HOC/withAuthRedirect';\r\n\r\nconst Dialogs = props => {\r\n\treturn (\r\n\t\t<div className=\"dialogs\">\r\n\t\t\t<DialogsNameContainer />\r\n\t\t\t<DialogsMessagesContainer />\r\n\t\t</div>\r\n\t);\r\n};\r\n\r\nexport default withAuthRedirect(Dialogs);\r\n","import React, { useEffect } from 'react';\r\nimport './css/App.min.css';\r\nimport { Route } from 'react-router-dom';\r\nimport Navbar from './components/Navbar/Navbar';\r\nimport UsersContainer from './components/Users/UsersContainer';\r\nimport ProfileContainer from './components/Profile/ProfileContainer';\r\nimport HeaderContainer from './components/Header/HeaderContainer';\r\nimport { connect } from 'react-redux';\r\nimport { initializedApp } from './redux/app-reducer';\r\nimport Preloader from './components/common/Preloader/Preloader';\r\nimport Dialogs from './components/Dialogs/Dialogs';\r\nconst LoginContainer = React.lazy(() =>\r\n\timport('./components/Login/LoginContainer')\r\n);\r\n\r\nconst App = props => {\r\n\tuseEffect(() => {\r\n\t\tprops.initializedApp();\r\n\t}, []);\r\n\r\n\tif (!props.initialized) return <Preloader />;\r\n\r\n\treturn (\r\n\t\t<div className=\"container\">\r\n\t\t\t<HeaderContainer />\r\n\t\t\t<div className=\"wrapper\">\r\n\t\t\t\t<Navbar />\r\n\t\t\t\t<div className=\"main\">\r\n\t\t\t\t\t<Route path=\"/profile/:userId?\" render={() => <ProfileContainer />} />\r\n\t\t\t\t\t<Route path=\"/dialogs\" render={() => <Dialogs />} />\r\n\t\t\t\t\t<Route path=\"/users\" render={() => <UsersContainer />} />\r\n\t\t\t\t\t<Route\r\n\t\t\t\t\t\tpath=\"/login\"\r\n\t\t\t\t\t\trender={() => {\r\n\t\t\t\t\t\t\treturn (\r\n\t\t\t\t\t\t\t\t<React.Suspense fallback={<Preloader />}>\r\n\t\t\t\t\t\t\t\t\t<LoginContainer />\r\n\t\t\t\t\t\t\t\t</React.Suspense>\r\n\t\t\t\t\t\t\t);\r\n\t\t\t\t\t\t}}\r\n\t\t\t\t\t/>\r\n\t\t\t\t</div>\r\n\t\t\t</div>\r\n\t\t</div>\r\n\t);\r\n};\r\n\r\nconst mapStateToProps = state => {\r\n\treturn {\r\n\t\tinitialized: state.app.initialized,\r\n\t};\r\n};\r\n\r\nconst mapDispatchToProps = dispatch => {\r\n\treturn {\r\n\t\tinitializedApp: () => dispatch(initializedApp()),\r\n\t};\r\n};\r\n\r\nexport default connect(mapStateToProps, mapDispatchToProps)(App);\r\n","const reportWebVitals = onPerfEntry => {\n  if (onPerfEntry && onPerfEntry instanceof Function) {\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\n      getCLS(onPerfEntry);\n      getFID(onPerfEntry);\n      getFCP(onPerfEntry);\n      getLCP(onPerfEntry);\n      getTTFB(onPerfEntry);\n    });\n  }\n};\n\nexport default reportWebVitals;\n","import { applyMiddleware, combineReducers, compose, createStore } from 'redux';\r\nimport authReducer from './auth-reducer';\r\nimport dialogsPageReducer from './dialogsPage-reducer';\r\nimport profilePageReducer from './profilePage-reducer';\r\nimport usersPageReducer from './usersPage-reducer';\r\nimport thunkMiddleware from 'redux-thunk';\r\nimport { reducer as formReducer } from 'redux-form';\r\nimport appReducer from './app-reducer';\r\n\r\nconst reducers = combineReducers({\r\n\tprofilePage: profilePageReducer,\r\n\tdialogsPage: dialogsPageReducer,\r\n\tusersPage: usersPageReducer,\r\n\tauth: authReducer,\r\n\tform: formReducer,\r\n\tapp: appReducer,\r\n});\r\n\r\nconst composeEnhancers = window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__ || compose;\r\nconst store = createStore(\r\n\treducers,\r\n\tcomposeEnhancers(applyMiddleware(thunkMiddleware))\r\n);\r\n\r\nexport default store;\r\n","import React from 'react';\r\nimport ReactDOM from 'react-dom';\r\nimport './css/index.css';\r\nimport App from './App';\r\nimport reportWebVitals from './reportWebVitals';\r\nimport { BrowserRouter, HashRouter } from 'react-router-dom';\r\nimport store from './redux/redux-store';\r\nimport { Provider } from 'react-redux';\r\n\r\nReactDOM.render(\r\n\t<HashRouter>\r\n\t\t<Provider store={store}>\r\n\t\t\t<App />\r\n\t\t</Provider>\r\n\t</HashRouter>,\r\n\tdocument.getElementById('root')\r\n);\r\n\r\nreportWebVitals();\r\n","import { stopSubmit } from 'redux-form';\r\nimport { authAPI } from '../api/api';\r\n\r\n// actions types\r\nconst SET_USER_AUTH = 'auth/SET-USER-AUTH';\r\nconst SET_CAPTCHA_URL = 'auth/GET-CAPTCHA-URL';\r\n\r\n// initial state\r\nconst initialState = {\r\n\tid: null,\r\n\tlogin: null,\r\n\temail: null,\r\n\tisAuth: false,\r\n\tcaptchaUrl: null,\r\n};\r\n\r\n// reducers\r\nconst authReducer = (state = initialState, action) => {\r\n\tswitch (action.type) {\r\n\t\tcase SET_USER_AUTH:\r\n\t\t\treturn {\r\n\t\t\t\t...state,\r\n\t\t\t\t...action.data,\r\n\t\t\t};\r\n\t\tcase SET_CAPTCHA_URL:\r\n\t\t\treturn {\r\n\t\t\t\t...state,\r\n\t\t\t\tcaptchaUrl: action.captchaUrl,\r\n\t\t\t};\r\n\t\tdefault:\r\n\t\t\treturn state;\r\n\t}\r\n};\r\n\r\n// actions creators\r\nexport const setUserAuthActionCreator = (id, login, email, isAuth) => ({\r\n\ttype: SET_USER_AUTH,\r\n\tdata: {\r\n\t\tid,\r\n\t\tlogin,\r\n\t\temail,\r\n\t\tisAuth,\r\n\t},\r\n});\r\n\r\nexport const setCaptchaUrlActionCreator = captchaUrl => ({\r\n\ttype: SET_CAPTCHA_URL,\r\n\tcaptchaUrl,\r\n});\r\n\r\n// redux-thunks\r\nexport const isLogged = () => async dispatch => {\r\n\tconst data = await authAPI.isAuth();\r\n\tif (data.resultCode === 0) {\r\n\t\tconst { email, id, login } = data.data;\r\n\t\tdispatch(setUserAuthActionCreator(id, login, email, true));\r\n\t}\r\n};\r\n\r\nexport const login =\r\n\t(captcha, email, password, rememberMe) => async dispatch => {\r\n\t\tdebugger;\r\n\t\tconst data = await authAPI.login(captcha, email, password, rememberMe);\r\n\t\tif (data.resultCode === 0) {\r\n\t\t\tdispatch(isLogged());\r\n\t\t} else {\r\n\t\t\tif (data.resultCode === 10) {\r\n\t\t\t\tdispatch(getCaptchaUrl());\r\n\t\t\t}\r\n\t\t\tconst errorMessage = data.messages[0];\r\n\t\t\tdispatch(stopSubmit('login', { _error: errorMessage }));\r\n\t\t}\r\n\t};\r\n\r\nexport const logout = () => async dispatch => {\r\n\tconst data = await authAPI.logout();\r\n\tif (data.resultCode === 0) {\r\n\t\tdispatch(setUserAuthActionCreator(null, null, null, false));\r\n\t}\r\n};\r\n\r\nexport const getCaptchaUrl = () => async dispatch => {\r\n\tconst data = await authAPI.getCaptchaUrl();\r\n\tdispatch(setCaptchaUrlActionCreator(data.url));\r\n};\r\n\r\nexport default authReducer;\r\n","export const maxLength = max => value =>\r\n\tvalue && value.length > max ? `Max length is ${max} symbols` : undefined;\r\n\r\nexport const required = value => (value ? undefined : 'Required');\r\n"],"sourceRoot":""}